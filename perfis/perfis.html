<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Perfis de Aço</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        svg {
            margin-top: 20px;
        }
        #resultado {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Calculadora de Perfis de Aço</h1>
    <form id="perfilForm">
        <div class="form-group">
            <label for="perfil">Tipo de Perfil:</label>
            <select id="perfil" name="perfil">
                <option value="">Selecione</option>
                <option value="i">Perfil I</option>
                <option value="h">Perfil H</option>
                <option value="l">Perfil L</option>
                <option value="s">Perfil Quadrado</option>
                <option value="sv">Perfil Quadrado Vazado</option>
                <option value="t">Perfil Tubular</option>
                <option value="c">Perfil Circular</option>
                <option value="u">Perfil U</option>
                <option value="c">Perfil C</option>
            </select>
        </div>
        <div class="form-group" id="dimensao1-group">
            <label for="dimensao1">Dimensão 1:</label>
            <input type="number" id="dimensao1" name="dimensao1" step="0.01">
        </div>
        <div class="form-group" id="dimensao2-group">
            <label for="dimensao2">Dimensão 2:</label>
            <input type="number" id="dimensao2" name="dimensao2" step="0.01">
        </div>
        <div class="form-group">
            <label for="espessura">Espessura:</label>
            <input type="number" id="espessura" name="espessura" step="0.01">
        </div>
        <div class="form-group">
            <label for="comprimento">Comprimento do Perfil (m):</label>
            <input type="number" id="comprimento" name="comprimento" step="0.01">
        </div>
        <div class="form-group">
            <label for="travamentos">Número de Travamentos:</label>
            <input type="number" id="travamentos" name="travamentos" step="1">
        </div>
        <button type="button" onclick="calcular()">Calcular</button>
    </form>
    <div id="drawing"></div>
    <div id="resultado"></div>

    <script>
        document.getElementById('perfil').addEventListener('change', updateFormFields);

        function calcular() {
            const perfil = document.getElementById('perfil').value;
            const dimensao1 = parseFloat(document.getElementById('dimensao1').value);
            const dimensao2 = parseFloat(document.getElementById('dimensao2').value) || dimensao1;
            const espessura = parseFloat(document.getElementById('espessura').value);
            const comprimento = parseFloat(document.getElementById('comprimento').value);
            const travamentos = parseInt(document.getElementById('travamentos').value);

            let momentoInercia, moduloResistencia, momentoInerciaPolar;

            switch (perfil) {
                case 'i':
                    // Calcula propriedades para Perfil I
                    momentoInercia = ((dimensao1 * Math.pow(dimensao2, 3)) / 12) - ((dimensao1 - espessura) * Math.pow(dimensao2 - 2 * espessura, 3) / 12);
                    moduloResistencia = momentoInercia / (dimensao2 / 2);
                    break;
                case 'h':
                    // Calcula propriedades para Perfil H
                    momentoInercia = ((dimensao1 * Math.pow(dimensao2, 3)) / 12) - ((dimensao1 - espessura) * Math.pow(dimensao2 - 2 * espessura, 3) / 12);
                    moduloResistencia = momentoInercia / (dimensao2 / 2);
                    break;
                case 'l':
                    // Calcula propriedades para Perfil L
                    momentoInercia = (dimensao1 * Math.pow(dimensao2, 3) / 12) - (espessura * Math.pow(dimensao2 - espessura, 3) / 12);
                    moduloResistencia = momentoInercia / (dimensao2 / 2);
                    break;
                case 's':
                    // Calcula propriedades para Perfil Quadrado
                    momentoInercia = (Math.pow(dimensao1, 4) / 12);
                    moduloResistencia = momentoInercia / (dimensao1 / 2);
                    break;
                case 'sv':
                    // Calcula propriedades para Perfil Quadrado Vazado
                    momentoInercia = (Math.pow(dimensao1, 4) - Math.pow(dimensao1 - 2 * espessura, 4)) / 12;
                    moduloResistencia = momentoInercia / (dimensao1 / 2);
                    break;
                case 't':
                    // Calcula propriedades para Perfil Tubular
                    const raioExterno = dimensao1 / 2;
                    const raioInterno = raioExterno - espessura;
                    momentoInerciaPolar = (Math.PI / 32) * (Math.pow(dimensao1, 4) - Math.pow(dimensao1 - 2 * espessura, 4));
                    moduloResistencia = momentoInerciaPolar / raioExterno;
                    break;
                case 'c':
                    // Calcula propriedades para Perfil Circular
                    const raio = dimensao1 / 2;
                    momentoInerciaPolar = (Math.PI / 64) * Math.pow(dimensao1, 4);
                    moduloResistencia = momentoInerciaPolar / raio;
                    break;
                case 'u':
                    // Calcula propriedades para Perfil U
                    momentoInercia = ((dimensao1 * Math.pow(dimensao2, 3)) / 12) - ((dimensao1 - espessura) * Math.pow(dimensao2 - 2 * espessura, 3) / 12);
                    moduloResistencia = momentoInercia / (dimensao2 / 2);
                    break;
                default:
                    momentoInercia = moduloResistencia = momentoInerciaPolar = 'N/A';
                    break;
            }

            const resultado = `
                Momento de Inércia: ${momentoInercia ? momentoInercia.toFixed(2) : 'N/A'} mm⁴<br>
                Módulo de Resistência: ${moduloResistencia ? moduloResistencia.toFixed(2) : 'N/A'} mm³<br>
                Momento de Inércia Polar: ${momentoInerciaPolar ? momentoInerciaPolar.toFixed(2) : 'N/A'} mm⁴<br>
                Comprimento do Perfil: ${comprimento} m<br>
                Número de Travamentos: ${travamentos}
            `;

            document.getElementById('resultado').innerHTML = resultado;
            updateDrawing();
        }

        function updateFormFields() {
            const perfil = document.getElementById('perfil').value;
            const dimensao2Group = document.getElementById('dimensao2-group');

            switch (perfil) {
                case 'i':
                case 'h':
                case 'l':
                case 'u':
                    document.getElementById('dimensao1-group').querySelector('label').innerText = 'Dimensão Principal 1 (mm)';
                    dimensao2Group.querySelector('label').innerText = 'Dimensão Principal 2 (mm)';
                    dimensao2Group.style.display = 'block';
                    break;
                case 's':
                case 'c':
                    document.getElementById('dimensao1-group').querySelector('label').innerText = 'Lado do Quadrado (mm)';
                    dimensao2Group.style.display = 'none';
                    break;
                case 'sv':
                    document.getElementById('dimensao1-group').querySelector('label').innerText = 'Lado do Quadrado (mm)';
                    dimensao2Group.querySelector('label').innerText = 'Espessura (mm)';
                    dimensao2Group.style.display = 'block';
                    break;
                case 't':
                    document.getElementById('dimensao1-group').querySelector('label').innerText = 'Diâmetro Externo (mm)';
                    dimensao2Group.querySelector('label').innerText = 'Espessura (mm)';
                    dimensao2Group.style.display = 'block';
                    break;
                default:
                    dimensao2Group.style.display = 'none';
                    break;
            }
        }

        function updateDrawing() {
            const perfil = document.getElementById('perfil').value;
            const dimensao1 = parseFloat(document.getElementById('dimensao1').value);
            const dimensao2 = parseFloat(document.getElementById('dimensao2').value) || dimensao1;
            const espessura = parseFloat(document.getElementById('espessura').value);

            let desenho = '';

            switch (perfil) {
                case 'i':
                    desenho = `
                        <svg width="300" height="200">
                            <rect x="50" y="30" width="${dimensao1}" height="${dimensao2}" fill="lightblue" stroke="black"/>
                            <rect x="50" y="${30 + espessura}" width="${dimensao1 - 2 * espessura}" height="${dimensao2 - 2 * espessura}" fill="white" stroke="black"/>
                            <text x="50" y="20" font-size="12">Perfil I</text>
                            <text x="50" y="${30 + dimensao2 + 20}" font-size="12">Dim1: ${dimensao1} mm</text>
                            <text x="50" y="${30 + dimensao2 + 40}" font-size="12">Dim2: ${dimensao2} mm</text>
                            <text x="50" y="${30 + dimensao2 + 60}" font-size="12">Espessura: ${espessura} mm</text>
                        </svg>
                    `;
                    break;
                case 'h':
                    desenho = `
                        <svg width="300" height="200">
                            <rect x="50" y="30" width="${dimensao1}" height="${dimensao2}" fill="lightgreen" stroke="black"/>
                            <rect x="50" y="${30 + espessura}" width="${dimensao1 - 2 * espessura}" height="${dimensao2 - 2 * espessura}" fill="white" stroke="black"/>
                            <text x="50" y="20" font-size="12">Perfil H</text>
                            <text x="50" y="${30 + dimensao2 + 20}" font-size="12">Dim1: ${dimensao1} mm</text>
                            <text x="50" y="${30 + dimensao2 + 40}" font-size="12">Dim2: ${dimensao2} mm</text>
                            <text x="50" y="${30 + dimensao2 + 60}" font-size="12">Espessura: ${espessura} mm</text>
                        </svg>
                    `;
                    break;
                case 'l':
                    desenho = `
                        <svg width="300" height="200">
                            <rect x="50" y="30" width="${dimensao1}" height="${dimensao2}" fill="lightcoral" stroke="black"/>
                            <rect x="50" y="${30 + espessura}" width="${dimensao1 - espessura}" height="${dimensao2 - espessura}" fill="white" stroke="black"/>
                            <text x="50" y="20" font-size="12">Perfil L</text>
                            <text x="50" y="${30 + dimensao2 + 20}" font-size="12">Dim1: ${dimensao1} mm</text>
                            <text x="50" y="${30 + dimensao2 + 40}" font-size="12">Dim2: ${dimensao2} mm</text>
                            <text x="50" y="${30 + dimensao2 + 60}" font-size="12">Espessura: ${espessura} mm</text>
                        </svg>
                    `;
                    break;
                case 's':
                    desenho = `
                        <svg width="300" height="300">
                            <rect x="50" y="50" width="${dimensao1}" height="${dimensao1}" fill="lightgray" stroke="black"/>
                            <text x="50" y="40" font-size="12">Perfil Quadrado</text>
                            <text x="50" y="${50 + dimensao1 + 20}" font-size="12">Lado: ${dimensao1} mm</text>
                        </svg>
                    `;
                    break;
                case 'sv':
                    desenho = `
                        <svg width="300" height="300">
                            <rect x="50" y="50" width="${dimensao1}" height="${dimensao1}" fill="lightyellow" stroke="black"/>
                            <rect x="50 + ${espessura}" y="50 + ${espessura}" width="${dimensao1 - 2 * espessura}" height="${dimensao1 - 2 * espessura}" fill="white" stroke="black"/>
                            <text x="50" y="40" font-size="12">Perfil Quadrado Vazado</text>
                            <text x="50" y="${50 + dimensao1 + 20}" font-size="12">Lado: ${dimensao1} mm</text>
                            <text x="50" y="${50 + dimensao1 + 40}" font-size="12">Espessura: ${espessura} mm</text>
                        </svg>
                    `;
                    break;
                case 't':
                    desenho = `
                        <svg width="300" height="300">
                            <circle cx="150" cy="150" r="${dimensao1 / 2}" fill="lightblue" stroke="black"/>
                            <circle cx="150" cy="150" r="${(dimensao1 / 2) - espessura}" fill="white" stroke="black"/>
                            <text x="50" y="40" font-size="12">Perfil Tubular</text>
                            <text x="50" y="${300 - 30}" font-size="12">Diâmetro: ${dimensao1} mm</text>
                            <text x="50" y="${300 - 10}" font-size="12">Espessura: ${espessura} mm</text>
                        </svg>
                    `;
                    break;
                case 'c':
                    desenho = `
                        <svg width="300" height="300">
                            <circle cx="150" cy="150" r="${dimensao1 / 2}" fill="lightgreen" stroke="black"/>
                            <text x="50" y="40" font-size="12">Perfil Circular</text>
                            <text x="50" y="${300 - 30}" font-size="12">Diâmetro: ${dimensao1} mm</text>
                        </svg>
                    `;
                    break;
                case 'u':
                    desenho = `
                        <svg width="300" height="200">
                            <path d="M50,30 L${50 + dimensao1},30 L${50 + dimensao1},${30 + dimensao2 - espessura} L50, ${30 + dimensao2 - espessura} Z
                                     M60, ${30 + espessura} L${50 + dimensao1 - espessura}, ${30 + espessura} L${50 + dimensao1 - espessura}, ${30 + dimensao2} L60, ${30 + dimensao2} Z"
                                  fill="lightcoral" stroke="black"/>
                            <text x="50" y="20" font-size="12">Perfil U</text>
                            <text x="50" y="${30 + dimensao2 + 20}" font-size="12">Dim1: ${dimensao1} mm</text>
                            <text x="50" y="${30 + dimensao2 + 40}" font-size="12">Dim2: ${dimensao2} mm</text>
                            <text x="50" y="${30 + dimensao2 + 60}" font-size="12">Espessura: ${espessura} mm</text>
                        </svg>
                    `;
                    break;
                case 'c':
                    desenho = `
                        <svg width="300" height="200">
                            <path d="M50,30 L${50 + dimensao1},30 L${50 + dimensao1},${30 + dimensao2} L50, ${30 + dimensao2} Z
                                     M50 + ${espessura}, ${30 + espessura} L${50 + dimensao1 - espessura}, ${30 + espessura} L${50 + dimensao1 - espessura}, ${30 + dimensao2 - espessura} L50 + ${espessura}, ${30 + dimensao2 - espessura} Z"
                                  fill="lightblue" stroke="black"/>
                            <text x="50" y="20" font-size="12">Perfil C</text>
                            <text x="50" y="${30 + dimensao2 + 20}" font-size="12">Dim1: ${dimensao1} mm</text>
                            <text x="50" y="${30 + dimensao2 + 40}" font-size="12">Dim2: ${dimensao2} mm</text>
                            <text x="50" y="${30 + dimensao2 + 60}" font-size="12">Espessura: ${espessura} mm</text>
                        </svg>
                    `;
                    break;
                default:
                    desenho = '';
                    break;
            }

            document.getElementById('desenho').innerHTML = desenho;
        }

        document.getElementById('perfil').addEventListener('change', updateDimensions);
        document.getElementById('dimensao1').addEventListener('input', updateDrawing);
        document.getElementById('dimensao2').addEventListener('input', updateDrawing);
        document.getElementById('espessura').addEventListener('input', updateDrawing);

        // Initial drawing
        updateDrawing();
    </script>
</body>
</html>
