<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Perfis de Concreto</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }

        label, input, select {
            display: block;
            width: 100%;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        svg {
            display: block;
            margin: 20px auto;
            width: 100%;
            height: auto;
        }

        .hidden {
            display: none;
        }

        #resultado {
            margin-top: 20px;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <h1>Calculadora de Perfis de Concreto</h1>

    <label for="perfil">Selecione o tipo de perfil:</label>
    <select id="perfil">
        <option value="retangular">Perfil Retangular</option>
        <option value="vigaT">Viga T</option>
        <option value="pilarI">Pilar I</option>
        <option value="circular">Pilar Circular</option>
    </select>

    <div id="dimensao1-group">
        <label for="dimensao1">Largura da Mesa Superior (mm)</label>
        <input type="number" id="dimensao1" placeholder="Insira a largura da mesa superior">
    </div>

    <div id="dimensao2-group">
        <label for="dimensao2">Altura Total (mm)</label>
        <input type="number" id="dimensao2" placeholder="Insira a altura total">
    </div>

    <div id="dimensao3-group">
        <label for="dimensao3">Espessura da Alma (mm)</label>
        <input type="number" id="dimensao3" placeholder="Insira a espessura da alma">
    </div>

    <div id="dimensao4-group">
        <label for="dimensao4">Espessura da Mesa Inferior (mm)</label>
        <input type="number" id="dimensao4" placeholder="Insira a espessura da mesa inferior">
    </div>

    <div id="dimensao5-group">
        <label for="dimensao5">Largura da Mesa Inferior (mm)</label>
        <input type="number" id="dimensao5" placeholder="Insira a largura da mesa inferior">
    </div>

    <div id="dimensao6-group" class="hidden">
        <label for="dimensao6">Diâmetro (mm)</label>
        <input type="number" id="dimensao6" placeholder="Insira o diâmetro">
    </div>

    <label for="densidade">Densidade do Concreto (kg/m³)</label>
    <input type="number" id="densidade" value="2500" placeholder="Insira a densidade">

    <button onclick="calcularPropriedades()">Calcular</button>

    <div id="desenho"></div>
    <div id="resultado"></div>

    <script>
        const perfil = document.getElementById('perfil');
        const dimensao1Group = document.getElementById('dimensao1-group');
        const dimensao2Group = document.getElementById('dimensao2-group');
        const dimensao3Group = document.getElementById('dimensao3-group');
        const dimensao4Group = document.getElementById('dimensao4-group');
        const dimensao5Group = document.getElementById('dimensao5-group');
        const dimensao6Group = document.getElementById('dimensao6-group');
        const densidadeInput = document.getElementById('densidade');

        perfil.addEventListener('change', function() {
            const tipoPerfil = perfil.value;
            switch (tipoPerfil) {
                case 'retangular':
                    dimensao1Group.querySelector('label').innerText = 'Largura (mm)';
                    dimensao2Group.querySelector('label').innerText = 'Altura (mm)';
                    dimensao3Group.classList.add('hidden');
                    dimensao4Group.classList.add('hidden');
                    dimensao5Group.classList.add('hidden');
                    dimensao6Group.classList.add('hidden');
                    dimensao2Group.classList.remove('hidden');
                    dimensao1Group.classList.remove('hidden');
                    break;
                case 'vigaT':
                    dimensao1Group.querySelector('label').innerText = 'Largura da Mesa Superior (mm)';
                    dimensao2Group.querySelector('label').innerText = 'Altura Total (mm)';
                    dimensao3Group.querySelector('label').innerText = 'Espessura da Alma (mm)';
                    dimensao4Group.querySelector('label').innerText = 'Espessura da Mesa Inferior (mm)';
                    dimensao5Group.classList.add('hidden');
                    dimensao6Group.classList.add('hidden');
                    dimensao3Group.classList.remove('hidden');
                    dimensao4Group.classList.remove('hidden');
                    dimensao2Group.classList.remove('hidden');
                    dimensao1Group.classList.remove('hidden');
                    break;
                case 'pilarI':
                    dimensao1Group.querySelector('label').innerText = 'Largura da Mesa Superior (mm)';
                    dimensao2Group.querySelector('label').innerText = 'Altura Total (mm)';
                    dimensao3Group.querySelector('label').innerText = 'Espessura da Alma (mm)';
                    dimensao4Group.querySelector('label').innerText = 'Espessura da Mesa Inferior (mm)';
                    dimensao5Group.querySelector('label').innerText = 'Largura da Mesa Inferior (mm)';
                    dimensao6Group.classList.add('hidden');
                    dimensao3Group.classList.remove('hidden');
                    dimensao4Group.classList.remove('hidden');
                    dimensao5Group.classList.remove('hidden');
                    dimensao2Group.classList.remove('hidden');
                    dimensao1Group.classList.remove('hidden');
                    break;
                case 'circular':
                    dimensao6Group.querySelector('label').innerText = 'Diâmetro (mm)';
                    dimensao1Group.classList.add('hidden');
                    dimensao2Group.classList.add('hidden');
                    dimensao3Group.classList.add('hidden');
                    dimensao4Group.classList.add('hidden');
                    dimensao5Group.classList.add('hidden');
                    dimensao6Group.classList.remove('hidden');
                    break;
                default:
                    dimensao1Group.classList.add('hidden');
                    dimensao2Group.classList.add('hidden');
                    dimensao3Group.classList.add('hidden');
                    dimensao4Group.classList.add('hidden');
                    dimensao5Group.classList.add('hidden');
                    dimensao6Group.classList.add('hidden');
            }
        });

        function calcularPropriedades() {
            const tipoPerfil = perfil.value;
            const larguraSuperior = parseFloat(document.getElementById('dimensao1').value) || 0;
            const alturaTotal = parseFloat(document.getElementById('dimensao2').value) || 0;
            const espessuraAlma = parseFloat(document.getElementById('dimensao3').value) || 0;
            const espessuraMesaSuperior = parseFloat(document.getElementById('dimensao4').value) || 0;
            const espessuraMesaInferior = parseFloat(document.getElementById('dimensao5').value) || 0;
            const diametro = parseFloat(document.getElementById('dimensao6').value) || 0;
            const densidade = parseFloat(densidadeInput.value) || 2500; // valor padrão: 2500 kg/m³

            let area = 0;
            let inercia = 0;
            let peso = 0;

            switch (tipoPerfil) {
                case 'retangular':
                    area = larguraSuperior * alturaTotal;
                    inercia = (larguraSuperior * Math.pow(alturaTotal, 3)) / 12;
                    peso = area * densidade / 1e6; // conversão de mm² para m²
                    break;
                case 'vigaT':
                    area = larguraSuperior * espessuraAlma + (alturaTotal - espessuraAlma) * espessuraAlma;
                    inercia = ((alturaTotal * Math.pow(larguraSuperior, 3)) - ((alturaTotal - espessuraAlma) * Math.pow(larguraSuperior - espessuraAlma * 2, 3))) / 12;
                    peso = area * densidade / 1e6; // conversão de mm² para m²
                    break;
                case 'pilarI':
                    area = (larguraSuperior * espessuraMesaSuperior) + (larguraSuperior * (alturaTotal - espessuraMesaSuperior - espessuraMesaInferior)) + (larguraSuperior * espessuraMesaInferior);
                    inercia = ((alturaTotal * Math.pow(larguraSuperior, 3)) - ((alturaTotal - espessuraMesaSuperior - espessuraMesaInferior) * Math.pow(larguraSuperior, 3))) / 12;
                    peso = area * densidade / 1e6; // conversão de mm² para m²
                    break;
                case 'circular':
                    area = (Math.PI / 4) * Math.pow(diametro, 2);
                    inercia = (Math.PI / 64) * Math.pow(diametro, 4);
                    peso = area * densidade / 1e6; // conversão de mm² para m²
                    break;
            }

            document.getElementById('resultado').innerHTML = `
                <h2>Resultados:</h2>
                <p>Área: ${area.toFixed(2)} mm²</p>
                <p>Momento de Inércia: ${inercia.toFixed(2)} mm⁴</p>
                <p>Peso: ${peso.toFixed(2)} kg</p>
            `;

            desenharPerfil(tipoPerfil, larguraSuperior, alturaTotal, espessuraAlma, espessuraMesaSuperior, espessuraMesaInferior, diametro);
        }

        function desenharPerfil(tipoPerfil, larguraSuperior, alturaTotal, espessuraAlma, espessuraMesaSuperior, espessuraMesaInferior, diametro) {
            const svg = document.getElementById('desenho');
            svg.innerHTML = ''; // Limpa o conteúdo do SVG

            let xmlns = "http://www.w3.org/2000/svg";
            let svgns = xmlns;
            let svgElement = document.createElementNS(svgns, "svg");
            svgElement.setAttribute('width', '500');
            svgElement.setAttribute('height', '500');
            svgElement.setAttribute('viewBox', '0 0 500 500');
            svg.appendChild(svgElement);

            switch (tipoPerfil) {
                case 'retangular':
                    desenharPerfilRetangular(svgElement, larguraSuperior, alturaTotal);
                    break;
                case 'vigaT':
                    desenharPerfilVigaT(svgElement, larguraSuperior, alturaTotal, espessuraAlma, espessuraMesaSuperior);
                    break;
                case 'pilarI':
                    desenharPerfilPilarI(svgElement, larguraSuperior, alturaTotal, espessuraAlma, espessuraMesaSuperior, espessuraMesaInferior);
                    break;
                case 'circular':
                    desenharPerfilCircular(svgElement, diametro);
                    break;
            }
        }

        function desenharPerfilRetangular(svg, largura, altura) {
            let xmlns = "http://www.w3.org/2000/svg";
            let rect1 = document.createElementNS(xmlns, "rect");
            rect1.setAttribute('x', '50');
            rect1.setAttribute('y', '50');
            rect1.setAttribute('width', largura);
            rect1.setAttribute('height', altura);
            rect1.setAttribute('stroke', 'black');
            rect1.setAttribute('fill', 'none');
            svg.appendChild(rect1);
        }

        function desenharPerfilVigaT(svg, larguraSuperior, alturaTotal, espessuraAlma, espessuraMesaSuperior) {
            let xmlns = "http://www.w3.org/2000/svg";

            // Mesa Superior
            let rect1 = document.createElementNS(xmlns, "rect");
            rect1.setAttribute('x', '50');
            rect1.setAttribute('y', '50');
            rect1.setAttribute('width', larguraSuperior);
            rect1.setAttribute('height', espessuraMesaSuperior);
            rect1.setAttribute('stroke', 'black');
            rect1.setAttribute('fill', 'none');
            svg.appendChild(rect1);

            // Alma
            let rect2 = document.createElementNS(xmlns, "rect");
            rect2.setAttribute('x', '50' + (larguraSuperior - espessuraAlma) / 2);
            rect2.setAttribute('y', '50' + espessuraMesaSuperior);
            rect2.setAttribute('width', espessuraAlma);
            rect2.setAttribute('height', alturaTotal - espessuraMesaSuperior);
            rect2.setAttribute('stroke', 'black');
            rect2.setAttribute('fill', 'none');
            svg.appendChild(rect2);
        }

        function desenharPerfilPilarI(svg, larguraSuperior, alturaTotal, espessuraAlma, espessuraMesaSuperior, espessuraMesaInferior) {
            let xmlns = "http://www.w3.org/2000/svg";

            // Mesa Superior
            let rect1 = document.createElementNS(xmlns, "rect");
            rect1.setAttribute('x', '50');
            rect1.setAttribute('y', '50');
            rect1.setAttribute('width', larguraSuperior);
            rect1.setAttribute('height', espessuraMesaSuperior);
            rect1.setAttribute('stroke', 'black');
            rect1.setAttribute('fill', 'none');
            svg.appendChild(rect1);

            // Alma
            let rect2 = document.createElementNS(xmlns, "rect");
            rect2.setAttribute('x', '50');
            rect2.setAttribute('y', '50' + espessuraMesaSuperior);
            rect2.setAttribute('width', larguraSuperior);
            rect2.setAttribute('height', alturaTotal - espessuraMesaSuperior - espessuraMesaInferior);
            rect2.setAttribute('stroke', 'black');
            rect2.setAttribute('fill', 'none');
            svg.appendChild(rect2);

            // Mesa Inferior
            let rect3 = document.createElementNS(xmlns, "rect");
            rect3.setAttribute('x', '50');
            rect3.setAttribute('y', '50' + alturaTotal - espessuraMesaInferior);
            rect3.setAttribute('width', larguraSuperior);
            rect3.setAttribute('height', espessuraMesaInferior);
            rect3.setAttribute('stroke', 'black');
            rect3.setAttribute('fill', 'none');
            svg.appendChild(rect3);
        }

        function desenharPerfilCircular(svg, diametro) {
            let xmlns = "http://www.w3.org/2000/svg";
            let circle = document.createElementNS(xmlns, "circle");
            circle.setAttribute('cx', '250');
            circle.setAttribute('cy', '250');
            circle.setAttribute('r', diametro / 2);
            circle.setAttribute('stroke', 'black');
            circle.setAttribute('fill', 'none');
            svg.appendChild(circle);
        }
    </script>
</body>
</html>
