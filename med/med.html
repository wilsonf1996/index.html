<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conversor de Unidades - Engenharia Civil e Industrial</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0;
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 {
            color: #4A90E2;
            margin-bottom: 20px;
        }
        .converter {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 100%;
            max-width: 400px;
        }
        select, input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        button {
            background-color: #4A90E2;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #357ABD;
        }
        .result {
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
        }
        .error {
            color: red;
            font-size: 14px;
        }
        .history {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f9f9f9;
            max-height: 150px;
            overflow-y: auto;
            width: 100%;
            max-width: 400px;
        }
        .history-item {
            margin: 5px 0;
        }
        .clear-history {
            background-color: #E74C3C;
        }
        .clear-history:hover {
            background-color: #C0392B;
        }
    </style>
</head>
<body>

<h1>Conversor de Unidades - Engenharia Civil e Industrial</h1>

<div class="converter">
    <select id="measureType" onchange="updateConversions()"></select>
    <input type="number" id="value" placeholder="Digite um valor" min="0" />
    <select id="fromUnit"></select>
    <select id="toUnit"></select>
    <button onclick="convert()">Converter</button>
    <div id="result" class="result"></div>
    <div id="error" class="error"></div>
</div>

<h2>Histórico de Conversões</h2>
<div class="history" id="history"></div>
<button class="clear-history" onclick="clearHistory()">Limpar Histórico</button>

<script>
    const conversions = {
        length: {
            units: ["m", "km", "cm", "mm", "mi", "yd", "ft", "in"],
            factors: { m: 1, km: 0.001, cm: 100, mm: 1000, mi: 0.000621371, yd: 1.09361, ft: 3.28084, in: 39.3701 }
        },
        area: {
            units: ["m²", "km²", "ha", "acre", "ft²", "in²"],
            factors: { m²: 1, km²: 1e-6, ha: 0.0001, acre: 0.000247105, ft²: 10.7639, in²: 1550.003 }
        },
        volume: {
            units: ["m³", "L", "mL", "ft³", "in³", "gal"],
            factors: { m³: 1, L: 1000, mL: 1e6, ft³: 35.3147, in³: 61023.7, gal: 264.172 }
        },
        mass: {
            units: ["kg", "g", "mg", "lb", "oz", "t"],
            factors: { kg: 1, g: 1000, mg: 1e6, lb: 2.20462, oz: 35.274, t: 0.001 }
        },
        force: {
            units: ["N", "kN", "lbf", "gf"],
            factors: { N: 1, kN: 0.001, lbf: 0.224809, gf: 101.971 }
        },
        pressure: {
            units: ["Pa", "kPa", "MPa", "psi", "bar"],
            factors: { Pa: 1, kPa: 0.001, MPa: 1e-6, psi: 0.000145038, bar: 0.00001 }
        },
        energy: {
            units: ["J", "kJ", "cal", "BTU", "Wh"],
            factors: { J: 1, kJ: 0.001, cal: 0.239006, BTU: 0.000947817, Wh: 0.277778 }
        },
        power: {
            units: ["W", "kW", "hp"],
            factors: { W: 1, kW: 0.001, hp: 0.00134102 }
        },
        temperature: {
            units: ["C", "F", "K"],
            convert: (value, fromUnit, toUnit) => {
                if (fromUnit === "C") {
                    return toUnit === "F" ? (value * 9/5) + 32 : value + 273.15;
                } else if (fromUnit === "F") {
                    return toUnit === "C" ? (value - 32) * 5/9 : ((value - 32) * 5/9) + 273.15;
                } else {
                    return toUnit === "C" ? value - 273.15 : (value - 273.15) * 9/5 + 32;
                }
            }
        },
        speed: {
            units: ["m/s", "km/h", "mi/h", "ft/s"],
            factors: { m/s: 1, km/h: 3.6, mi/h: 2.23694, ft/s: 3.28084 }
        },
        density: {
            units: ["kg/m³", "g/cm³", "lb/ft³"],
            factors: { "kg/m³": 1, "g/cm³": 0.001, "lb/ft³": 0.06243 }
        },
        humidity: {
            units: ["%", "g/kg"],
            factors: { "%": 1, "g/kg": 0.001 }
        },
        viscosity: {
            units: ["Pa.s", "cP"],
            factors: { "Pa.s": 1, "cP": 1000 }
        },
        electricalResistance: {
            units: ["Ω", "kΩ", "MΩ"],
            factors: { "Ω": 1, "kΩ": 0.001, "MΩ": 0.000001 }
        },
        electricalCapacitance: {
            units: ["F", "mF", "μF"],
            factors: { "F": 1, "mF": 1000, "μF": 1e6 }
        },
        electricalInductance: {
            units: ["H", "mH", "μH"],
            factors: { "H": 1, "mH": 1000, "μH": 1e6 }
        },
        charge: {
            units: ["C", "mC", "μC"],
            factors: { "C": 1, "mC": 1000, "μC": 1e6 }
        },
        current: {
            units: ["A", "mA"],
            factors: { "A": 1, "mA": 1000 }
        },
        voltage: {
            units: ["V", "mV"],
            factors: { "V": 1, "mV": 1000 }
        },
        frequency: {
            units: ["Hz", "kHz", "MHz"],
            factors: { "Hz": 1, "kHz": 0.001, "MHz": 0.000001 }
        },
        illuminance: {
            units: ["lm", "lx"],
            factors: { "lm": 1, "lx": 1 }
        },
    };

    function initialize() {
        const measureTypeSelect = document.getElementById("measureType");
        for (let measure in conversions) {
            const option = document.createElement("option");
            option.value = measure;
            option.textContent = measure.charAt(0).toUpperCase() + measure.slice(1);
            measureTypeSelect.appendChild(option);
        }
        updateConversions();
    }

    function updateConversions() {
        const measureType = document.getElementById("measureType").value;
        const fromUnitSelect = document.getElementById("fromUnit");
        const toUnitSelect = document.getElementById("toUnit");
        fromUnitSelect.innerHTML = "";
        toUnitSelect.innerHTML = "";

        conversions[measureType].units.forEach(unit => {
            const optionFrom = document.createElement("option");
            optionFrom.value = unit;
            optionFrom.textContent = unit;
            fromUnitSelect.appendChild(optionFrom);

            const optionTo = document.createElement("option");
            optionTo.value = unit;
            optionTo.textContent = unit;
            toUnitSelect.appendChild(optionTo);
        });
    }

    function convert() {
        const measureType = document.getElementById("measureType").value;
        const fromUnit = document.getElementById("fromUnit").value;
        const toUnit = document.getElementById("toUnit").value;
        const value = parseFloat(document.getElementById("value").value);
        const resultDiv = document.getElementById("result");
        const errorDiv = document.getElementById("error");
        resultDiv.innerHTML = "";
        errorDiv.innerHTML = "";

        if (isNaN(value) || value < 0) {
            errorDiv.textContent = "Por favor, insira um valor válido (positivo).";
            return;
        }

        let result;
        if (measureType === "temperature") {
            result = conversions[measureType].convert(value, fromUnit, toUnit);
        } else {
            const baseValue = value / conversions[measureType].factors[fromUnit];
            result = baseValue * conversions[measureType].factors[toUnit];
        }

        resultDiv.innerHTML = `Resultado: ${result.toFixed(4)} ${toUnit}`;
        addToHistory(value, fromUnit, toUnit, result);
    }

    function addToHistory(value, fromUnit, toUnit, result) {
        const historyDiv = document.getElementById("history");
        const historyItem = document.createElement("div");
        historyItem.className = "history-item";
        historyItem.textContent = `${value} ${fromUnit} = ${result.toFixed(4)} ${toUnit}`;
        historyDiv.prepend(historyItem);
    }

    function clearHistory() {
        const historyDiv = document.getElementById("history");
        historyDiv.innerHTML = "";
    }

    window.onload = initialize;
</script>

</body>
</html>

