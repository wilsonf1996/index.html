<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treino Semanal</title>
    <style>
        /* Estilos do corpo e do calendário permanecem os mesmos */
    </style>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
    <link rel="stylesheet" href="https://fullcalendar.io/releases/fullcalendar/3.10.2/fullcalendar.min.css" />
    <script src="https://fullcalendar.io/releases/fullcalendar/3.10.2/fullcalendar.min.js"></script>
</head>
<body>
    <h1>Treino Semanal</h1>
    
    <div id="calendar"></div>

    <div id="workout-options" style="margin-top: 20px;">
        <h3>Escolha seu treino:</h3>
        <div>
            <label for="cardio-exercise">Exercício Cardio:</label>
            <select id="cardio-exercise">
                <!-- Opções de exercícios -->
            </select>
        </div>
        <div>
            <label for="muscle-exercise">Exercício Musculação:</label>
            <select id="muscle-exercise">
                <!-- Opções de exercícios -->
            </select>
        </div>
        <button onclick="saveWorkout()">Salvar Treino</button>
    </div>

    <h3>Treinos do Dia Selecionado</h3>
    <table id="workout-table">
        <thead>
            <tr>
                <th>Exercício</th>
                <th>Tipo</th>
                <th>Calorias</th>
                <th>Detalhes</th>
            </tr>
        </thead>
        <tbody id="workout-body"></tbody>
    </table>

    <script>
        const firebaseConfig = {
            // Suas configurações do Firebase
        };

        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        document.addEventListener('DOMContentLoaded', function() {
            const calendarEl = document.getElementById('calendar');
            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                dateClick: function(info) {
                    loadWorkoutForDay(info.dateStr);
                }
            });
            calendar.render();
        });

        function loadWorkoutForDay(date) {
            const workoutBody = document.getElementById('workout-body');
            workoutBody.innerHTML = "";
            const selectedDay = new Date(date).getDate();
            database.ref(`treinos/dia${selectedDay}`).once('value').then(snapshot => {
                const workouts = snapshot.val();
                if (workouts) {
                    for (const workout of Object.values(workouts)) {
                        const row = workoutBody.insertRow();
                        row.insertCell(0).textContent = workout.type;
                        row.insertCell(1).textContent = workout.exerciseType;
                        row.insertCell(2).textContent = workout.calories;
                        row.insertCell(3).textContent = workout.details;
                    }
                }
            });
        }

        function saveWorkout() {
            const selectedDay = prompt('Selecione o dia (1-30):');
            if (!selectedDay) return;

            const cardioExercise = document.getElementById('cardio-exercise').value;
            const muscleExercise = document.getElementById('muscle-exercise').value;
            const calories = calculateCalories(cardioExercise, muscleExercise);
            const details = prompt('Insira detalhes do treino (carga, repetições, etc.):');

            const workoutData = {
                type: cardioExercise || muscleExercise,
                exerciseType: cardioExercise ? 'Cardio' : 'Musculação',
                calories: calories,
                details: details,
                date: new Date().toLocaleString()
            };

            database.ref(`treinos/dia${selectedDay}`).push(workoutData);
            alert(`Treino salvo para o dia ${selectedDay}.`);
        }

        function calculateCalories(cardio, muscle) {
            let calories = 0;
            if (cardio) {
                calories += 300; // Exemplo
            }
            if (muscle) {
                calories += 200; // Exemplo
            }
            return calories;
        }
    </script>
</body>
</html>

</html>

