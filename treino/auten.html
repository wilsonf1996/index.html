<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treino App</title>
    <style>
        /* Estilos básicos */
        body { font-family: Arial, sans-serif; }
        #auten-section, #workout-section { padding: 20px; }
    </style>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
</head>
<body onload="initApp()">

<div id="auten-section">
    <h2>Auten</h2>
    <input type="email" id="email" placeholder="E-mail" required>
    <input type="password" id="password" placeholder="Senha" required>
    <button onclick="loginUser()">Login</button>
    <button onclick="registerUser()">Cadastrar</button>
    <button onclick="sendPasswordReset()">Recuperar Senha</button>
    <div id="auth-message"></div>
</div>

<div id="workout-section" style="display:none;">
    <h2>Treino</h2>
    <!-- Conteúdo do app de treino -->
</div>

<script>
    // Configuração do Firebase
    var firebaseConfig = {
        apiKey: "SUA_API_KEY",
        authDomain: "SEU_DOMINIO",
        databaseURL: "SEU_DATABASE_URL",
        projectId: "SEU_PROJECT_ID",
        storageBucket: "SEU_STORAGE_BUCKET",
        messagingSenderId: "SEU_SENDER_ID",
        appId: "SEU_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);

    function initApp() {
        firebase.auth().onAuthStateChanged(user => {
            if (user) {
                // Usuário autenticado
                document.getElementById("auten-section").style.display = "none";
                document.getElementById("workout-section").style.display = "block";
                // Carregar treino ou outras funções
            } else {
                // Usuário não autenticado
                document.getElementById("auten-section").style.display = "block";
                document.getElementById("workout-section").style.display = "none";
            }
        });
    }

    function loginUser() {
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        firebase.auth().signInWithEmailAndPassword(email, password)
            .then(() => {
                // Login bem-sucedido, a seção de treino será exibida automaticamente
            })
            .catch(error => {
                document.getElementById("auth-message").innerText = error.message;
            });
    }

    function registerUser() {
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        firebase.auth().createUserWithEmailAndPassword(email, password)
            .then(() => {
                document.getElementById("auth-message").innerText = "Cadastro bem-sucedido!";
            })
            .catch(error => {
                document.getElementById("auth-message").innerText = error.message;
            });
    }

    function sendPasswordReset() {
        const email = document.getElementById("email").value;

        firebase.auth().sendPasswordResetEmail(email)
            .then(() => {
                document.getElementById("auth-message").innerText = "E-mail de recuperação enviado!";
            })
            .catch(error => {
                document.getElementById("auth-message").innerText = error.message;
            });
    }
</script>

</body>
</html>
